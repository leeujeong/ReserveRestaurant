<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace = "com.reserve.restaurant.repository.MenuRepository">


	

<!-- 	
	<select id="selectRestaurantByNo" parameterType="Long" resultType="Restaurant">
		SELECT res_no, res_name, address, address_detail, open_time, close_time, tel, content, res_option, origin, saved, path
		  FROM restaurant
		 WHERE res_no = #{resNo}
	</select>  -->
	
	
	<!-- 메뉴추가 -->
	<insert id="addMenu" parameterType="Menu">
    	INSERT into menu (menu_no, menu_name, menu_price, res_no)
	    SELECT menu_no_seq.NEXTVAL, A.* FROM(
	    <foreach item="item" collection="list" separator="UNION ALL" >
	        select #{item.menuName} as menu,
	        #{item.menuPrice} as price,
	        #{item.resNo} as res_no
	        from dual
	    </foreach>) A
	</insert>
	
	<!-- 메뉴불러오기 -->
	<select id="selectMenu" parameterType="Long" resultType="Menu">
		SELECT *
		  FROM menu
		 WHERE res_no = #{resNo}
	</select>
	
	<!-- <delete id ="removeRestaurant" parameterType="Long">
		
	</delete>  -->
	
</mapper>